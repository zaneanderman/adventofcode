#!/usr/bin/python3
forest = [[".",".",".",".",".","#","#",".","|",".","|","|",".",".","#","#",".","|",".","#",".",".",".","|",".","#","#",".","|",".","#",".",".",".","#",".","|",".",".",".","|",".",".",".","#","|",".","#",".","."],[".",".","#","|",".","#","#","#",".",".",".",".",".","#",".",".",".","|","#","|",".","#",".","|",".",".",".",".",".",".","|","#",".",".",".",".",".","#","|",".",".",".",".",".",".","|",".","|",".","#"],["#",".",".",".",".","#","#","#",".","#",".",".",".","#","|",".","#",".",".",".","|","#","#",".",".","#",".","#",".","#",".",".","#","|",".","#",".",".",".",".","|",".","#","#",".","#","#",".",".","|"],[".","#",".",".",".",".",".","#",".","|",".","|","|","#","#",".",".","|","|",".","|","#",".",".",".",".","#",".","#",".","|","#",".",".",".",".",".","|","#",".",".","|","#",".","|","#",".","#",".","#"],[".",".","#",".","|",".",".",".",".","#",".",".",".",".",".",".","#",".",".","|",".",".",".","|","#","#","#",".",".",".",".",".","#","|","#",".","|",".",".",".",".",".","#","#",".","|",".",".",".","."],["#","#",".",".",".","|","|",".","#","#",".",".",".",".","#",".",".",".","#",".",".",".",".","|","|","|",".",".","|",".",".","|",".",".",".",".",".",".",".","|",".",".",".",".",".",".",".","|",".","#"],["#",".",".",".","|",".",".",".","#","|",".",".",".","|",".",".","#","#","|","|","#",".",".",".",".",".",".",".","#",".","#","|",".",".",".",".","#",".","|",".","|",".",".",".",".","#",".","#","|","."],[".","|",".",".",".",".",".",".",".","#","|","#","|","|","#",".",".",".","|","|","#",".","#",".","#","#",".","|","#","|","#",".","|",".",".","#",".",".",".","#",".",".","#","#",".","|","|",".","|","."],["|","#","#",".",".",".",".","#","#","|","|",".","|","|",".","#",".",".",".",".","|","#",".","#","|",".",".","#",".",".","|","#","|","#",".","#",".","#",".",".","#",".","#",".","|","|","#",".",".","#"],[".",".","#",".",".","|",".","|",".",".","#",".","|",".","#",".",".","|",".","#",".","|","|",".",".",".","#",".",".",".",".",".",".",".",".",".","|","#",".","|","|","|","#","#",".",".",".",".","|","|"],["#","|",".",".",".",".",".",".",".",".",".",".",".",".",".",".","|",".",".",".",".","|",".",".",".",".",".","#",".","#",".",".","|","#",".","|","#",".",".","|",".",".",".","|",".",".",".",".","|","#"],["|","|",".",".",".",".",".",".",".",".","#",".","|",".",".",".",".",".",".","#",".","#",".",".","#","#","|","|",".","#",".","#","#",".",".",".",".",".","|",".",".",".",".",".","|","#","#",".","#","|"],[".",".",".","#","|",".","|",".",".","|","#",".","#",".",".","#","#",".",".",".","|",".","#",".",".","#",".","|","#","|","|",".",".","|","|",".",".","#",".","|",".",".",".","#",".",".","|","|",".","#"],[".",".","#",".","#",".",".",".",".",".",".",".",".","#",".",".","|",".","#",".","|","|",".",".","#",".",".",".","|","#","#",".",".",".","|",".","|","#",".","#","|",".","#","|",".","|","#",".",".","#"],[".",".","|","|",".","|",".",".",".","#","#",".",".","|",".",".","|",".","|","|",".","|","|","|",".",".",".",".","#","|","|",".",".",".","|",".","#",".",".",".",".",".",".","#",".",".","|",".","#","."],[".","|","|",".",".",".","|","|",".",".",".",".","|",".",".",".","#",".",".",".",".","|",".",".","|","#",".",".",".","|",".","|","|",".",".","#",".",".",".",".",".","|",".",".",".",".",".","#",".","|"],["#",".",".","#",".","#",".",".",".",".","|","#","#",".","|",".",".","#",".","#","|","#",".",".",".",".",".",".","#","#",".",".","|","#",".",".",".","|",".",".",".",".",".","|","|","|",".",".","#","."],[".",".",".",".","#","|","|","|",".","#",".",".",".","|","|",".",".","|","#","|",".","#",".",".",".",".",".",".",".",".",".",".",".",".",".",".","|",".",".","|","|","|","|",".","#","|",".","#",".","|"],["|","|","#","#","#","|",".",".",".",".",".","#","#","|",".","#",".",".","|","#",".","#","#",".",".","#",".","|",".",".",".",".",".",".",".","|",".",".",".","#",".","|","#",".","|",".","|",".",".","."],["|",".",".",".","#","#",".","#",".","|","|",".","#","#",".",".",".","|",".",".",".",".",".",".",".","|","#","|",".",".",".",".",".","|",".","#",".",".","#",".","#",".",".",".","|","|",".",".",".","."],[".",".","#",".",".",".","#",".",".",".","|",".",".","#",".","|","|",".",".","|","|",".","#",".",".",".","|","#",".","|","#","#","#","|",".",".",".",".",".","|","#",".","#",".",".","#",".","#",".","."],[".",".",".",".",".",".",".",".","|","#",".",".","|",".",".",".",".","#",".",".","#","|",".","#","|",".","|","|","|","|",".","#",".",".",".",".","|",".","|",".","|",".","|",".",".",".",".",".","|","."],["#",".",".",".","#",".",".","#",".","|","|",".",".",".","#","|",".",".","#","|","#",".","#","#",".",".","#",".",".",".",".","#","#",".","#","|",".","|","#",".",".","|","#",".","#","#","#",".","|","#"],["#","#","|","#","|","#","|",".","|","#","#",".",".",".","#","#",".",".",".","|","|",".","|",".",".",".","#",".",".","#","#",".",".",".","#",".",".","#","|","#","|","#","|","|","|",".","|","|",".","|"],["|","|",".",".",".",".",".",".",".",".","|",".","|",".","#",".","#",".","#",".","|",".",".",".","|",".","#","|","#",".",".",".",".","#",".","#",".",".",".","|",".",".",".",".",".",".","|",".",".","."],[".",".","|","|","|",".",".",".",".",".",".",".",".","|",".","|","|",".",".","|","#","|","#","#",".",".",".","|",".",".","#",".",".","#",".",".",".",".","|",".","#","|",".","|",".","|",".",".",".","#"],["#","|",".","|","|",".","#","|",".","|",".",".",".",".","|",".",".","|",".","|",".","|",".",".",".",".",".",".",".",".",".","#",".",".","|",".",".",".",".","#",".",".","#",".",".",".",".","#","|","|"],[".",".","#",".",".",".","#",".",".",".","#","|","|","#",".",".",".",".",".",".",".","#",".","#",".",".",".",".",".",".","|",".",".",".","|",".",".",".",".","#","|","#",".","#",".",".",".",".","#","|"],[".",".",".",".",".",".","#","#",".",".","#",".","#","|","|",".","|","#",".",".","|",".",".",".",".","|",".","|","|","|",".","#","|",".",".",".",".",".","#",".",".",".",".","|",".",".","#",".","|","."],[".",".","|",".",".",".",".","|",".",".","|",".","|","#",".",".",".","#",".",".",".","|",".","#",".","#",".",".",".",".",".",".",".",".",".",".","|","|",".",".",".","#","#","#",".",".","|","#",".","|"],[".","#",".",".","#","#","#",".","#","|","|","|",".",".",".",".","#","#",".",".",".",".",".",".","|","|",".",".","|","#",".","#",".",".","|",".","|",".",".","#","#",".","#","#",".","|",".",".","|","|"],[".",".",".","#",".",".",".",".",".","#","|",".",".",".",".","#",".",".",".",".",".",".",".","#",".","#",".",".","|",".",".",".","|",".","|","|",".",".","|",".","|","#",".","#","|",".",".",".",".","#"],[".",".","|",".",".",".",".",".",".","#","|",".",".","|",".","|",".","#","#","#",".",".","|",".",".","#",".",".",".",".","|","|",".",".","|","#","|",".",".","|","|",".","#","|",".","#",".",".","#","."],[".","|",".",".","#","|",".",".","|",".",".",".",".",".","|","|",".","|",".","#","#","|",".",".",".","#",".","|","|",".","|",".","|",".",".",".","|","#","|",".",".",".",".",".",".",".",".",".","|","."],[".",".",".","|",".",".","#",".",".","#",".",".",".",".","|",".",".",".",".",".","#",".","|",".",".",".",".",".",".",".","#","|",".",".",".",".",".",".","|",".","|","#",".","#",".",".",".","#","|","."],[".","#",".",".","#",".",".","|",".",".","|","#",".",".",".",".",".","#",".",".",".",".",".","#",".",".","|","|","|",".",".",".","|",".",".",".",".",".","#",".",".",".","|","|",".",".",".",".",".","."],["#",".",".",".",".",".","#","|","|",".",".",".","|",".","#","|",".",".",".","|","|",".",".",".","|","#",".",".","#","|","#",".","|",".","#",".",".","#","|",".",".",".",".","|","#",".",".","|",".","."],[".",".","#","|","#",".",".",".",".","#","#",".",".",".",".",".","|",".",".","|",".","#",".",".",".",".",".","#","|",".","#",".",".",".","#",".",".","|",".",".","#","|",".",".","#",".",".","|",".","."],[".","|",".","#",".","|",".","#",".",".","#",".","|","|","#","|",".","#",".","|","#",".","#","|","|",".","#","#",".",".","#",".",".",".","|","|","#",".",".",".","|",".",".","#","|",".","|",".",".","|"],[".",".",".",".","#","|","|",".","#",".",".","#","#","#",".",".",".",".","|",".","#",".",".",".",".","|",".","#",".","|",".","|",".","|",".",".","#",".","|",".",".",".",".","#",".","#",".",".","|","#"],["#","#",".","#",".","|",".","#","#","#",".","|","#",".","#",".",".","|",".",".",".",".","#","|",".","|","|",".",".",".","#","|",".",".",".","#",".",".","|",".",".",".",".",".",".","#","|",".","#","."],["|",".","#","#",".","#",".",".",".",".","#","|","#",".",".","|",".","|","#",".","#",".","#",".",".","|",".","#",".",".","#","#","|",".",".",".",".",".",".","#","#",".",".",".",".","|",".",".",".","."],[".",".","#","#",".","#","|",".",".",".",".",".",".","#",".",".",".",".",".","#",".",".",".",".","|",".",".",".",".","|",".",".",".",".",".","|","|",".","#",".",".",".","#",".",".","|","|","|","#","#"],[".",".",".",".","|",".","|","#",".",".",".",".",".",".",".","|",".",".","#","#","|","|","|","#",".",".",".","#","#",".","#",".","#",".",".","#","|",".",".",".",".","#","|",".",".","|",".",".",".","."],["|",".","#",".",".","|","|",".",".",".","|","|",".",".",".",".",".",".","#",".",".","#",".","|","|",".","|","#",".",".",".",".",".","#","#","#","#","|",".",".",".",".","#","#",".",".",".",".","|","#"],[".",".","|","|",".",".",".",".",".",".",".","|","|",".",".",".",".",".","|",".",".",".","#","#","#",".","#",".","|",".",".",".","#","#",".","|",".","|","#","|",".",".",".",".",".",".","|","|",".","."],["#",".","|",".",".","|","#",".","#",".",".",".","|",".",".","|","|",".","#",".",".",".",".",".","|","#","|","#",".","|",".","|",".","#",".","|",".","#","|",".",".","|","#",".","|","#",".","#","#","."],["|","|","#","#","#","|","#",".",".","|",".","|",".",".","#",".",".",".","#","#","#","#","#","#",".","|","#","#",".",".","#",".","|",".",".",".","|",".",".","|","#",".",".","|","|",".",".","|",".","."],[".",".","|",".","|",".","|",".",".","#","#",".",".","#",".",".",".",".","|","|","|",".",".","#",".","|","|",".","|","#",".",".",".",".",".",".","|","#","|","|","#",".",".",".","#",".",".",".",".","#"],[".",".","#",".",".",".","#",".",".","|","|",".",".",".","#","|",".","|","#",".",".",".","|","#","|",".","|",".",".","#","#","|",".",".",".",".","#",".",".",".",".","#",".","|","|",".","#","|","#","."]]
def safelistget(List, index):
	try:
		return List[index]
	except IndexError:
		return "."

for i in range(0, 100):
	adjacents = {".":0,"#":0,"|":0}
	alteredforest = []
	for row in range(0, len(forest)):
		alteredforest.append([])
		for column in range(0, len(forest[row])):
			alteredforest[row].append(0)

			adjacents = {".":0,"#":0,"|":0}
			adjacents[safelistget(safelistget(forest, row-1), column-1)] += 1 
			adjacents[safelistget(safelistget(forest, row-1), column)] += 1
			adjacents[safelistget(safelistget(forest, row-1), column+1)] += 1 
			adjacents[safelistget(safelistget(forest, row), column-1)] += 1
			adjacents[safelistget(safelistget(forest, row), column+1)] += 1 
			adjacents[safelistget(safelistget(forest, row+1), column-1)] += 1
			adjacents[safelistget(safelistget(forest, row+1), column)] += 1
			adjacents[safelistget(safelistget(forest, row+1), column+1)] += 1
			if forest[row][column] == "#":
				if adjacents["#"] >= 1 and adjacents["|"] >= 1:
					alteredforest[row][column] = "#"
				else:
					alteredforest[row][column] = "."
			if forest[row][column] == "|":
				if adjacents["#"] >= 3:
					alteredforest[row][column] = "#"
				else:
					alteredforest[row][column] = "|"
			if forest[row][column] == ".":
				if adjacents["|"] >= 3:
					alteredforest[row][column] = "|"
				else:
					alteredforest[row][column] = "."
	forest = alteredforest.copy()
answer = forest.count("|")*forest.count("#")
print(answer)
